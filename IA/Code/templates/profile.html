{% extends "base_template.html" %}
{% block title %}RecipeShare - Profile{% endblock %}
{% block content %}
    <div class="row justify-content-center" style="margin-top: 160px;">
    <div class="col-md-9">
        <h1>{{ username }}'s Profile</h1>
        <div class="row">
            <hr>
            <h2>Posts</h2>
            {% if posts %}
                {% for post in posts %}
                    <div class="card mb-3">
                        <div class="card-body">
                            <h2 class="card-title">{{ post[0].name }}</h2>
                            <h6 class="card-subtitle mb-2 text-muted"><a href="/profile/{{ post[1] }}">{{ post[1] }}</a>
                                - {{ post[0].datetime_posted.strftime('%Y-%m-%d %H:%M') }}</h6>
                            <p class="card-text">{{ post[0].content|truncate(200) }}</p>
                            <img src="/uploads/{{ post[0].image }}" alt="{{ post[0].name }}" class="img-fluid mb-2"
                                 style="max-width: 100%; max-height: 300px;">
                            <a href="/recipe/{{ post[0].id }}" class="btn btn-primary">Read More</a>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <h3>{{ username }} have not posted anything yet.</h3>
            {% endif %}
        </div>
    </div>
{% endblock %}

